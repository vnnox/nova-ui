(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2:function(e,t,s){},8:function(e,t,s){"use strict";const i=Array.prototype.slice,a=Object.prototype.toString,n=(Object.prototype.hasOwnProperty,/^-?\d*\.?\d+$/),l=e=>"string"==typeof e,r=e=>null!==e&&"object"==typeof e,c=e=>r(e)&&"[object Object]"===a.call(e),o=Array.isArray,d=e=>"function"==typeof e,u=e=>"boolean"==typeof e,p=e=>!isNaN(e)&&"number"==typeof e,h=e=>n.test(e),b=e=>r(e)&&1===e.nodeType&&!c(e),m=e=>i.call(e);function f(){let e=arguments[0]||{},t=0,s=!1,i=arguments.length;for(u(e)&&(s=e,e=arguments[1]||{},t=1),r(e)||d(e)||(e={});t++<i;){let i=arguments[t];if(i)for(let t in i){let a=e[t],n=i[t];if(n===e)continue;let l=o(n);if(s&&(l||c(n))){let i;i=l?a&&o(a)?a:[]:a&&c(a)?a:{},e[t]=f(s,i,n)}else void 0!==n&&(e[t]=n)}}return e}const v=(e,t)=>{let s;switch(e=`[NOVA.UI.ERROR] ${e.toString()}`,t){case"type":s=TypeError;break;case"range":s=RangeError;break;default:s=Error}throw new s(e)};var $=class{constructor(){this._events=Object.create(null)}on(e,t,s){if(!e||!d(t))return this;const i=this._events[e]||(this._events[e]=[]),a=Object.create(null);return a.id=i.length,a.handle=t,a.context=s,i.push(a),this}off(e,t,s){if(!e||!this._events[e])return this;if(t&&d(t)){let i=this._events[e];i.forEach(e=>{!e||t!==(e.handle||e.handle._handle)||s&&e.context!==s||delete i[e.id]}),i.length||delete this._events[e]}else null===t&&delete this._events[e];return this}one(e,t,s){if(!e||!d(t))return this;const i=this,a=function(){return i.off(e,a,s),t.apply(s||i,arguments)};return a._handle=t,this.on(e,a,s),this}emit(e,...t){if(!e||!this._events[e])return this;let s=this._events[e].length,i=-1;for(;++i<s;){let s=this._events[e][i];s.handle.apply(s.context||this,t)}return this}destroy(){this._events=null}};const g=(e,t)=>{let s=0;if(e&&e>0)e=+e,isNaN(e)||(s=e);else if(t){const e=t.toString(),i=e.indexOf(".");-1!==i&&(s=e.length-i-1)}return s},y=e=>{let{min:t,max:s,step:i}=e;if(t=parseFloat(t,10),s=parseFloat(s,10),i=parseFloat(i,10),t=isNaN(t)?-1/0:t,s=isNaN(s)?1/0:s,i=isNaN(i)?1:i,t>s){let e=s;s=t,t=e}return e.min=t,e.max=s,e.step=i,e.precision=g(e.precision,i),e};const _=/<%=([\s\S]+?)%>/g,w=/<%([\s\S]+?)%>/g;var N=(e,t)=>{if(!e||!~e.indexOf("<%"))return e;let s="var __p=[];with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(_,(e,t)=>"',"+t.replace(/\\'/,"'")+",'").replace(w,(e,t)=>"');"+t.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");';try{return new Function("obj",s).call(null,t||Object.create(null))}catch(t){return e}};const x={id:/^#([\w-]+)$/,className:/^\.([\w-]+)$/,tagName:/^[\w-]+$/},O=(e,t,s)=>e.addEventListener(t,s,!1),E=(e,t,s)=>e.removeEventListener(t,s,!1),j=(e,t)=>{if(t=t||document,l(e)){let s;return e=e.trim(),(s=x.id.test(e)?(s=document.getElementById(RegExp.$1))?[s]:[]:x.className.test(e)?t.getElementsByClassName(RegExp.$1):x.tagName.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e))?m(s):[]}return[]},A=(e,t)=>{let s=[];t&&(l(t)?s=t.split(/,|\s+/):o(t)&&(s=t)),s.forEach(t=>l(t)&&t.trim()&&e.classList.add(t.trim()))};const V='\n<input type="text" class="nv-input<% if(size) {%> nv-input--<%=size%><% }%>" placeholder="<%= placeholder%>" name="<%= name%>" role="spinbutton" autocomplete="off" aria-valuemin="<%= min%>" aria-valuemax="<%= max%>" aria-valuenow="" aria-disabled="<%= disabled%>"<% if (!editable) {%> readonly<% }%><% if (disabled) {%> disabled<% }%>/>\n<a class="nv-input-number__increase" role="button" aria-label="Increase Value" aria-disabled="<%=disabled%>"></a>\n<a class="nv-input-number__decrease" role="button" aria-label="Decrease Value" aria-disabled="<%=disabled%>"></a>\n';const k={input:".nv-input",increase:".nv-input-number__increase",decrease:".nv-input-number__decrease"},F={value:null,min:-1/0,max:1/0,step:1,precision:null,disabled:!1,editable:!0,placeholder:null,name:null,width:"130px",size:"default",customClass:null,formatter:null};function C(){const{states:e,props:t}=this;if(e.$el)return;const s=document.createElement("label");let i;s.className="nv-input-number",A(s,t.customClass),["large","small"].indexOf(t.size)>-1&&(i=t.size),s.innerHTML=N(V,{name:t.name,disabled:t.disabled,editable:t.editable,min:t.min,max:t.max,placeholder:t.placeholder,size:i});let a=t.width;h(a)&&(a+="px"),isNaN(parseFloat(a))&&(a=F.width),s.style.width=a,e.$container.appendChild(s),e.$el=s,e.$input=j(k.input,s)[0],e.$increase=j(k.increase,s)[0],e.$decrease=j(k.decrease,s)[0],function(){const{states:e}=this,t=e.handles;t.increase=this.increase.bind(this),t.decrease=this.decrease.bind(this),t.inputChange=function(e){if(this.props.disabled)return;this.setValue(e.target.value)}.bind(this),t.inputKeydown=function(e){let t=e.keyCode;38===t||39===t?this.increase():37!==t&&40!==t||this.decrease()}.bind(this),O(e.$increase,"click",t.increase),O(e.$decrease,"click",t.decrease),O(e.$input,"change",t.inputChange),O(e.$input,"keydown",t.inputKeydown)}.call(this)}function z(e){const{props:t,states:s}=this,{step:i,precision:a}=t,{value:n}=s;if(!p(e)&&void 0!==e)return n;const l=Math.pow(10,a);return S((l*e+l*i)/l,a)}function L(e){const{props:t,states:s}=this,{step:i,precision:a}=t,{value:n}=s;if(!p(e)&&void 0!==e)return n;const l=Math.pow(10,a);return S((l*e-l*i)/l,a)}function R(){let{states:e,props:t}=this,{min:s,max:i}=t,a=e.value||0,n=t.disabled||L.call(this,a||0)<s,l=t.disabled||z.call(this,a||0)>i,r=n?"add":"remove",c=l?"add":"remove";e.$decrease.classList[r]("nv-disabled"),e.$increase.classList[c]("nv-disabled"),e.$increase.setAttribute("aria-disabled",l),e.$decrease.setAttribute("aria-disabled",n)}function S(e,t){return parseFloat(parseFloat(Number(e).toFixed(t)))}class M extends ${constructor(e,t){if(super(),!(this instanceof M))return new M(e,t);b(e)||v("'container' 必须是一个DOM容器","type"),this.states=Object.create(null),this.states.$container=e,this.states.handles=Object.create(null),this.initialize(t)}initialize(e){this.props=y(f({},F,e||{}));const{states:t}=this;C.call(this),t.value="",t.oldValue="",this.setValue(this.props.value)}setValue(e){const{props:t,states:s}=this;let{oldValue:i}=s;const{precision:a,min:n,max:l}=t;e=parseFloat(e,10),isNaN(e)&&(e=i);let r="";""!==e&&((e=S(e,a))>=l&&(e=l),e<=n&&(e=n),r=e.toFixed(a));let c=t.formatter&&t.formatter(r);s.$input.value=c||r,i!==e&&(s.value=e,s.oldValue=e,this.emit("change",e,i)),s.$input.setAttribute("aria-valuenow",c||e),R.call(this)}getValue(){return this.states.value}increase(){const{states:e,props:t}=this;let s=z.call(this,e.value||0);t.disable||s>t.max||this.setValue(s)}decrease(){const{states:e,props:t}=this;let s=L.call(this,e.value||0);t.disable||s<t.min||this.setValue(s)}disable(){this.props.disabled=!0;const{states:e}=this;e.$el.classList.add("nv-disabled"),e.$input.setAttribute("disabled",!0),e.$input.setAttribute("aria-disabled",!0),R.call(this)}enable(){this.props.disabled=!1;const{states:e}=this;e.$el.classList.remove("nv-disabled"),e.$input.removeAttribute("disabled"),e.$input.setAttribute("aria-disabled",!1),R.call(this)}destroy(){(function(){const{states:e}=this,t=e.handles;E(e.$increase,"click",t.increase),E(e.$decrease,"click",t.decrease),E(e.$input,"change",t.inputChange),E(e.$input,"keydown",t.inputKeydown)}).call(this),this.states.$el&&this.states.$el.parentNode&&this.states.$el.parentNode.removeChild(this.states.$el),this.states=null,this._events=null}}t.a=M}}]);
//# sourceMappingURL=nova.ui.js.map